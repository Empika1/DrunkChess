[gd_scene load_steps=3 format=3 uid="uid://6ybrga46cr3v"]

[sub_resource type="GDScript" id="GDScript_wtyoa"]
script/source = "extends Node
class_name test1

@export var node2: test2

var i: int = 0

signal test1Sig()

func _ready():
	node2.test2Sig.connect(
		func():
			i += 1
			print(\"test1: \", i)
			if i < 10:
				test1Sig.emit())

func _process(delta):
	if Input.is_action_just_pressed(\"rmb\"):
		test1Sig.emit()
"

[sub_resource type="GDScript" id="GDScript_54w2o"]
script/source = "extends Node
class_name test2

@export var node1: test1

var i: int

signal test2Sig()

func _ready():
	node1.test1Sig.connect(
		func():
			node1.i += 1
			print(\"test2: \", node1.i)
			test2Sig.emit())
"

[node name="Node" type="Node"]

[node name="Node1" type="Node" parent="." node_paths=PackedStringArray("node2")]
script = SubResource("GDScript_wtyoa")
node2 = NodePath("../Node2")

[node name="Node2" type="Node" parent="." node_paths=PackedStringArray("node1")]
script = SubResource("GDScript_54w2o")
node1 = NodePath("../Node1")
